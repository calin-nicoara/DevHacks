<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ReceptioneraPorno</title>
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/bootstrap-theme.css">
    <link rel="stylesheet" href="css/jquery-ui.structure.css">
    <link rel="stylesheet" href="css/jquery-ui.theme.css">
    <link rel="stylesheet" href="css/stylesheet.css">

    <script type="text/javascript" src="js/jquery-1.11.3.js"></script>
    <script type="text/javascript" src="js/bootstrap.js"></script>
    <!--<script type="text/javascript" src="js/scripts.js"></script>-->
</head>
<body background="images/bkgrnd.jpg">
<div class="container-fluid centerDiv">
    <div class="codePanel">
        <p class="text-center">Gain access with Buildo Code</p>
        <form>
            <div class="form-group">
                <div class="codeDiv">
                <input type="text" class="form-control" id="code" placeholder="Personal Access Code">

                <script>

                    $("input[id='code']").keypress(function (e) {
                        if (e.which == 13) {

                                event.preventDefault();
                                $.ajax({
                                    url: "/checkVisitorCode",
                                    method: "GET",
                                    data: {code: $('#code').val()},
                                    dataType: "json",
                                    success: function (data) {

                                        var roomName = data.roomName;
                                        var roomDetails = data.roomDetails;
                                        var visitor = data.visitorName;

                                        if (roomName != null && visitor != null && roomDetails!=null) {
                                            alert('Welcome, ' + visitor + '\n You are expected in room ' + roomName + ' located at ' + roomDetails);
                                        } else {
                                            alert('Invalid Code')
                                        }


                                    }
                                });
                        };
                    });
                </script>

            </div>
        </form>
    </div>
</div>
</body>
</html>